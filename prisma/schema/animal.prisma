model SpecieModel {
  id            String  @id @default(uuid()) @db.Uuid
  specieBaseId  String  @map("specie_base_id") @db.Uuid
  associationId String  @map("association_id") @db.Uuid
  name          String  @unique
  sequence      Int?
  enabled       Boolean @default(true)

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime @default(now()) @map("updated_at") @db.Timestamptz()
  deleted   Boolean  @default(false)

  breed   BreedModel[]
  animals AnimalModel[]

  specieBase SpecieBaseModel @relation(fields: [specieBaseId], references: [id])

  @@map("specie")
}

model SpecieBaseModel {
  id      String  @id @default(uuid()) @db.Uuid
  name    String  @unique
  type    String
  enabled Boolean @default(true)

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime @default(now()) @map("updated_at") @db.Timestamptz()
  deleted   Boolean  @default(false)

  species SpecieModel[]

  @@map("specieBase")
}

model BreedModel {
  id            String  @id @default(uuid()) @db.Uuid
  associationId String  @map("association_id") @db.Uuid
  specieId      String  @map("specie_id") @db.Uuid
  name          String  @unique
  sequence      Int?
  enabled       Boolean @default(true)

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime @default(now()) @map("updated_at") @db.Timestamptz()
  deleted   Boolean  @default(false)

  specie SpecieModel @relation(fields: [specieId], references: [id])

  animals AnimalModel[]

  @@map("breed")
}

model AnimalModel {
  id            String  @id @default(uuid()) @db.Uuid
  associationId String  @map("association_id") @db.Uuid
  specieId      String  @map("specie_id") @db.Uuid
  publicationId String? @map("publication_id") @db.Uuid
  breedId       String  @map("breed_id") @db.Uuid
  name          String  @unique
  age           Int
  description   String?
  status        String
  gender        String
  weight        Float

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime @default(now()) @map("updated_at") @db.Timestamptz()
  deleted   Boolean  @default(false)

  specie      SpecieModel?      @relation(fields: [specieId], references: [id])
  breed       BreedModel?       @relation(fields: [breedId], references: [id])
  association AssociationModel? @relation(fields: [associationId], references: [id])
  publication PublicationModel? @relation(fields: [publicationId], references: [id])

  @@map("animal")
}
